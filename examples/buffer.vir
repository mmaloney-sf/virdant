public module Top {
    incoming clk : Clock;
    incoming reset : Word[1];
    incoming in : Word[8];
    outgoing out : Word[8];

    submodule buffer of Buffer;
    buffer.clk := clk;
    buffer.reset := reset;
    buffer.in := in;
    out := buffer.out;
}

module Buffer {
    incoming clk : Clock;
    incoming reset : Word[1];
    incoming in : Word[8];
    outgoing out : Word[8];

    reg r : Word[8] on clk;
    r <= reset->mux(0w8, in);
    out <= r;
}
